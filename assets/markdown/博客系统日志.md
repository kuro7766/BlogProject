这个博客比想象中还要难做

1.[音乐播放器功能](https://pub.dev/packages/just_audio)
```dart
player.play(); // Usually you don't want to wait for playback to finish.
await player.seek(Duration(seconds: 10));
await player.pause();
```

2.博客编写功能

markdown blog，widget blog两种方式
其中widget blog拟封装的组件如下
[
img,br,c,md,br
]

在每个br分割的地方，作为一个新的row，每个作为一个新的row，横向排布

另外还需要考虑自定义能力，getx mvc页面仍然可以使用，呈现的仍然是stateless widget，因此用mixin更为合适，mixin应该提供如下信息：
- 组件预览效果
- 组件标题
- 组件详细信息，即组件本身，getx写的组件
- 组建的搜索方式
- 组件元数据

如果满足以上条件，则可以使用mixin，并且注册到路由中，路由列表的泛型同样是mixin类型

另外，markdown也需要实现以上的几个接口，当然纯文字的处理方式自然就简单了许多。其实也不一定都要实现，只是排列需要时间戳，其他属性的用各自的构建方式就行了，采用不同的显示逻辑

3.博客元数据生成功能

使用一个程序自动生成并提交git，并且可以自动提交到github，这样更加方便

4.博客分页

分页需要一定的顺序，需要按照时间顺序排序

@ArticleMetaData({
'title': 'First Article',
'tag':[],
'date': '2022-01-22 04:20:26',
})

以上是博客元数据排序所需要的元数据，使用intellij的插件可以自动生成，livetemplate里面设置即可。

5.博客搜索功能

对于组件，需要实现一个方法，就是SearchableMixin，用它来规定文字如何和组件关联的

6.网站速度优化

canvaskit这两个文件相当的大，想要提高加载速度，这两个文件必须放在比较快的网站上

flutter build web --dart-define=FLUTTER_WEB_CANVASKIT_URL=/lib/

gitee部署失败的问题:

https://gitee.com/oschina/git-osc/issues/I1GOX8

- gitee禁用了flutter asset，所以没有办法使用,不过使用gitee的一个好处就是能设置为private仓库，不会被公开。但是不支持资源，在国内限制较多。

- 使用github pages 套上 Cloud flare.https://monkeywie.cn/2020/08/20/fast-github-page-with-cloudflare/

一个潜在的字体加速方案，在typora导出markdown为html的时候打开network console发现了这个字体url，速度挺快

https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext

https://gstatic.loli.net/s/opensans/v27/memtYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWqWuU6F.woff2

7.其他

网易云长期有效歌曲 : https://www.cnblogs.com/MirageFox/p/7995929.html

8.flutter markdown自定义组件

flutter Mark down编辑器的自定义组建方案。　　由于flutter不支持 Latex，如果想要渲染的话,必须要自行实现。
像这种比较大的仓库,虽然还有一些问题,但总会有人修的。

目前这部分教程相对比较少。只有在Github issue上面有一些可能已经其他人实现的，收集到的信息如下。

https://github.com/flutter/flutter/issues/96608

https://github.com/flutter/flutter/issues/89218

https://github.com/flutter/flutter/issues/81768#issuecomment-701426771








博客更新日志:

- 添加反射插件用于自动生成代码。

- 确定了基本的博客标签格式，

发现一个问题。将代码作为文章写入项目，会导致项目非常大，对于其他的文本类型需要使用附件来处理。重量级文本必须存入附件，避免初次拉去加载时间太长。

- 确定了博客的模式，博客主要为工程型博客。仅支持代码格式，markdown格式博客也保留。所以仍然可以通过拖拽文件的方式添加文章。


这个垃圾dart mirror居然不支持在flutter里面使用。查找了好久，终于在谷歌的反射框架第237行找到了这样的代码。

[第237行](https://github.com/google/reflectable.dart/blob/b7f8dde0658882093d4438dcf820ed6b02c9292c/test_reflectable/test/meta_reflector_test.dart#L237):
```expect(m1Mirror.metadata, contains(const P()));```


- 实现页面路由跳转功能。用路由来实现页面，分页的跳转。


- 页面刷新obs后，mask失效，一种粗暴的解决办法:markdown改为不可选择，后续用widget_mask这个库解决

























































































