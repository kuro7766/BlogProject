
如果定义了下面这个函数，主函数就不会执行
```
function dartMainRunner(callMain, _unused_stupid_empty_args) {
  callMain(_dartArgs);
}
```
在这里可以放入一个js对象，通过这个对象dart可以使用js eval等功能。但是还是要动一点手脚，因为这里的主函数只支持字符串列表`List<String>`传入，所以对编译生成的代码需要进行一定的更改才行

下面这个就是函数的入口
```
  G = {
    main: function($arguments) {
      var t1 = type$.dynamic,
        a = P.LinkedHashMap_LinkedHashMap$_empty(t1, t1);
      P.print(a);
      P.print(a.f$0());
    }
  };
```
G是外层的几个对象之一，想要修改直接修改即可

同时在js最底层，会判断用户有没有定义一个函数，如果是的话会默认走这个回调

```
    if (typeof dartMainRunner === "function")
      dartMainRunner(G.main, []);
    else
      G.main([]);
  });
```

可以看到传入的参数，始终为空，这里我们可以进行修改一下，把js这边的函数回调传过去，比如把一个函数附到一个对象上。这里又有一个问题，dart在编译之前和之后的函数property都是不一样的，一个推荐的办法是使用字典，字符串类型在编译前后他是不会修改的

例如
```
function dartMainRunner(callMain, _unused_stupid_empty_args) {
  callMain([eval]);
}
```



参考连接：

[`dartMainRunner` documentation · Issue #42915 · dart-lang/sdk · GitHub](https://github.com/dart-lang/sdk/issues/42915)



